<view class="container">
  <view wx:if="{{isLoading}}" class="state-text">正在加载论文详情...</view>
  <view wx:elif="{{errorMsg}}" class="state-text state-error">{{errorMsg}}</view>

  <view wx:elif="{{paper}}" class="paper-wrap">
    <view class="badge-row">
      <text class="badge">PAPER DETAIL</text>
      <text class="date-text">{{paper.publishedText}}</text>
    </view>

    <view class="title">{{paper.title}}</view>

    <view class="meta-row">
      <view class="meta-item" wx:if="{{paper.year}}">
        <text class="meta-label">Year</text>
        <text class="meta-value">{{paper.year}}</text>
      </view>
      <view class="meta-item">
        <text class="meta-label">Citations</text>
        <text class="meta-value">{{paper.citationCount}}</text>
      </view>
      <view class="meta-item" wx:if="{{paper.venue}}">
        <text class="meta-label">Venue</text>
        <text class="meta-value venue">{{paper.venue}}</text>
      </view>
    </view>

    <view class="card">
      <view class="card-title">Authors</view>
      <view class="card-content">{{paper.authorsText}}</view>
    </view>

    <view class="card">
      <view class="card-title">Abstract</view>
      <view class="card-content">{{paper.abstract}}</view>
    </view>

    <view class="card" wx:if="{{paper.link}}">
      <view class="card-title">Link</view>
      <view class="link-text">{{paper.link}}</view>
      <view class="action-row">
        <button class="action-btn" bindtap="onCopyLink">复制链接</button>
        <button class="action-btn action-btn-dark" bindtap="onOpenLink">打开提示</button>
      </view>
    </view>

    <view class="tag-row" wx:if="{{paper.tags.length}}">
      <view class="tag" wx:for="{{paper.tags}}" wx:key="index">{{item}}</view>
    </view>
  </view>
</view>
