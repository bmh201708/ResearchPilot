<!--pages/profile/index.wxml-->
<view class="container">

  <view class="header-nav">
    <view class="circle-btn">
        <image class="icon-img" src="/images/profile/set.png" mode="aspectFit"></image> 
    </view>
  </view>

  <view class="profile-header">
    <view class="avatar-container">
      <view class="avatar-ring">
        <image class="avatar-img" src="{{avatarUrl}}" mode="aspectFill"></image>
      </view>
      <view class="badge-night">
        <text class="badge-icon">ğŸŒ™</text>
        <text class="badge-text">Night Owl</text>
      </view>
    </view>
    <text class="user-name">{{userName}}</text>
    <text class="user-bio">{{userBio}}</text>
  </view>

  <view class="stats-grid">
    <view class="stat-card">
      <view class="stat-header">
        <view class="icon-box bg-sunny-light">ğŸ“–</view>
        <text class="stat-label">READING</text>
      </view>
      <view class="stat-content">
        <view class="stat-value-group">
          <text class="stat-number">2.5</text>
          <text class="stat-unit">hrs</text>
        </view>
        <view class="bar-chart">
          <view class="bar" style="height: 40%; opacity: 0.3;"></view>
          <view class="bar" style="height: 60%; opacity: 0.5;"></view>
          <view class="bar" style="height: 100%; opacity: 1;"></view>
          <view class="bar" style="height: 80%; opacity: 0.7;"></view>
          <view class="bar" style="height: 50%; opacity: 0.4;"></view>
        </view>
      </view>
    </view>

    <view class="stat-card">
      <view class="stat-header">
        <view class="icon-box bg-pink-light">ğŸ§ </view>
        <text class="stat-label">FOCUS</text>
      </view>
      <view class="stat-content-row">
  <view class="stat-left-column">
    <view class="stat-value-group">
      <text class="stat-number">85</text>
      <text class="stat-unit">%</text>
    </view>
    
    <view class="peak-state">
      <text>ğŸ“ˆ Peak State</text>
    </view>
  </view>

  <view class="progress-circle"></view>
</view>
    </view>
  </view>

  <view class="papers-section">
    <view class="section-header">
      <text class="section-title">Collected Papers ({{collectedPapers.length}})</text>
      <view class="see-all">Liked</view>
    </view>

    <view wx:if="{{collectedLoading}}" class="paper-state">æ­£åœ¨åŠ è½½æ”¶è—è®ºæ–‡...</view>
    <view wx:elif="{{collectedError}}" class="paper-state paper-state-error">{{collectedError}}</view>
    <view wx:elif="{{!collectedPapers.length}}" class="paper-state">æš‚æ— æ”¶è—è®ºæ–‡ï¼Œå» Explore ç‚¹èµè¯•è¯•</view>

    <view wx:else class="paper-list">
      <view
        class="paper-card"
        wx:for="{{collectedPapers}}"
        wx:key="id"
        bindtap="onCollectedPaperTap"
        data-id="{{item.id}}"
      >
        <view class="orange-dot"></view>
        <view class="paper-icon {{item.iconClass}}">
          <text class="paper-icon-text">{{item.iconText}}</text>
        </view>
        <view class="paper-info">
          <text class="paper-title">{{item.title}}</text>
          <text class="paper-desc">{{item.description}}</text>
          <view class="tag-group">
            <text class="tag" wx:for="{{item.tags}}" wx:for-item="tagItem" wx:key="index">{{tagItem}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <view style="height: 100px;"></view>
</view>
